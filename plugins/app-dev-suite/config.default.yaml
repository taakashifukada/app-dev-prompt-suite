# app-dev-suite Default Configuration
# This file contains default values for all configurable parameters.
# To customize, copy this to config.yaml and modify as needed.

# Document generation settings
documents:
  # Language for generated documents
  # "auto" = detect from feature spec or user's language
  # Specific codes: "en", "ja", etc.
  language: "auto"

  # Directory where generated documents will be saved
  output_dir: ".claude/claudeRes/docs"

  # File naming pattern for generated documents
  # Available variables: {date}, {type}, {task_name}, {jira_id}, {brief_desc}
  naming_pattern: "{date}_{type}_{task_name}.md"

  # Date format for {date} variable
  # Format follows strftime conventions
  date_format: "YY_MM_DD"

  # Context management settings (Tier 1: Staged Context Management)
  context_management:
    # Enable automatic document summarization at phase boundaries
    enable_summarization: true
    # Maximum lines for phase summaries
    summary_max_lines: 100
    # Enable hierarchical document structure (Tier 2)
    enable_hierarchical: true

  # External references directory (Tier 2)
  references_dir: "references"

  # PoC results directory (Tier 2)
  poc_dir: "poc"

# Feature specification settings
feature_spec:
  # Path to the feature specification document
  path: ".claude/claudeRes/scripts/feature_spec.md"

# Task naming conventions
task_naming:
  # Pattern for task names
  # Available variables: {type}, {jira_id}, {brief_desc}
  pattern: "{type}-{jira_id}-{brief_desc}"

  # Valid task types
  valid_types:
    - feature
    - bugfix
    - improvement
    - poc
    - subtask

  # JIRA integration settings
  jira:
    # Whether JIRA ID is expected in task names
    enabled: true

    # Whether JIRA ID is required (strict validation)
    require_id: false

    # JIRA ID pattern (regex)
    pattern: "[A-Z]+-\\d+"

# Agent configuration
# These define which specialized agents are used for different tasks
agents:
  # Agent for feasibility study and solution exploration
  poc_expert: "poc-feasibility-expert"

  # Agent for TDD implementation
  tdd_implementer: "tdd-implementer"

  # Agent for web research
  web_researcher: "web-research-expert"

  # Agent for document summarization
  document_summarizer: "document-summarizer"

  # Agent for quality gate evaluation at phase boundaries
  quality_gate_evaluator: "quality-gate-evaluator"

  # Agent for deep codebase investigation (3-phase iterative exploration)
  codebase_investigator: "codebase-investigator"

  # Agent for codebase exploration (Tier 1: Parallel Investigation)
  explore: "Explore"

# Quality Management settings (Tier 2)
quality:
  # Enable quality metrics tracking
  enable_metrics: true
  # Enable quality checklists at phase boundaries
  enable_checklists: true
  # Metrics to track
  metrics:
    - files_analyzed
    - web_research_count
    - solution_candidates
    - poc_count
    - subtask_count
    - test_case_count
    - files_changed
    - issues_found

  # v3.0: Externalized Quality Thresholds
  thresholds:
    feasibility_study:
      # Minimum files that should be analyzed
      min_files_analyzed: 10
      # Minimum solution candidates to consider
      min_solution_candidates: 2

    solution_design:
      # Minimum subtasks for proper task breakdown
      min_subtask_count: 3
      # Maximum subtasks before requiring grouping
      max_subtask_count: 20
      # Minimum test cases to plan
      min_test_cases: 5

    implementation:
      # Minimum test coverage percentage
      min_test_coverage: 80
      # Maximum files changed in single implementation
      max_files_changed: 30

# Document type definitions
# Maps document types to their display names and file type identifiers
document_types:
  feasibility_report:
    name: "Feasibility Report"
    file_type: "feasibility_report"

  solution_options:
    name: "Solution Options"
    file_type: "solution_options"

  solution_design:
    name: "Solution Design"
    file_type: "solution_design"

  dev_final:
    name: "Development Final Report"
    file_type: "dev_final"

  # Tier 2: Hierarchical documents
  feasibility_summary:
    name: "Feasibility Summary"
    file_type: "feasibility_summary"

  feasibility_details:
    name: "Feasibility Details"
    file_type: "feasibility_details"

  solution_summary:
    name: "Solution Summary"
    file_type: "solution_summary"

  solution_details:
    name: "Solution Details"
    file_type: "solution_details"

  subtask_design:
    name: "Subtask Design"
    file_type: "subtask_design"

  quality_checklist:
    name: "Quality Checklist"
    file_type: "quality_checklist"

  quality_metrics:
    name: "Quality Metrics"
    file_type: "quality_metrics"

  slides:
    name: "Presentation Slides"
    file_type: "slides"

# v3.0: Template System
templates:
  # Subtask detailed design templates
  subtask_design:
    # Include overview section
    include_overview: true
    # Include technical approach section
    include_technical_approach: true
    # Include dependencies section
    include_dependencies: true
    # Include test strategy section
    include_test_strategy: true

  # Scaling strategies for large tasks
  scaling:
    # Enable subtask grouping for large task lists
    enable_subtask_grouping: true
    # Threshold for activating subtask grouping
    subtask_grouping_threshold: 20
    # Enable batch design mode for related subtasks
    enable_batch_design: true

# Slide generation settings
slides:
  theme: "default"
  content_max_lines_per_slide: 12
  paginate: true
  footer: "Generated by app-dev-suite"
  default_format: "md"
  marp_cli:
    html: true
    allow_local_files: true
